<launch>
	<arg name="veh" default="ferrari"/>
	<arg name="bagin"/>
	<arg name="decoder" default="true"/>
	
	<remap if="$(arg decoder)" from="~uncorrected_image" to="$(arg veh)/raw_image"/>
	<remap unless="$(arg decoder)" from="~uncorrected_image" to="$(arg veh)/camera_node/image/raw"/>
	<include file="$(find anti_instagram)/launch/anti_instagram_node.launch"/>

	<group if="$(arg decoder)">
		<node name="decoder_node" pkg="pi_camera" type="decoder_node.py">
			<remap from="~compressed_image" to="$(arg veh)/camera_node/image/compressed"/>
			<remap from="~image/raw" to="$(arg veh)/raw_image"/>
		</node>
	</group>
	<node pkg="rosbag" type="play" name="player" args="$(arg bagin) -l"/>
</launch>
